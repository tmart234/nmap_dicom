server {
  listen 80;
  server_name _;

  # DICOMweb QIDO-RS endpoint - returns valid DICOM JSON
  location /dicom-web/studies {
    default_type application/dicom+json;
    add_header Access-Control-Allow-Origin "*";
    return 200 '[{"00080050":{"vr":"SH","Value":["ACC"]},"0020000D":{"vr":"UI","Value":["1.2.3.4.5"]}}]';
  }

  # DICOMweb base path - must return 200 for script detection
  location /dicom-web/ {
    default_type application/json;
    return 200 '{"name":"Mock DICOMweb Server","type":"QIDO-RS"}';
  }

  location /dicom-web {
    default_type application/json;
    return 200 '{"name":"Mock DICOMweb Server","type":"QIDO-RS"}';
  }

  # Root path - return 200 so script continues processing
  location / {
    default_type text/html;
    return 200 '<html><head><title>Mock QIDO</title></head><body>Mock QIDO-RS Server</body></html>';
  }
}